{% extends 'core/base.html' %}
{% block headercss %}

    <style>
        /*!
          Theme: Tokyo-night-Dark
          origin: https://github.com/enkia/tokyo-night-vscode-theme
          Description: Original highlight.js style
          Author: (c) Henri Vandersleyen <hvandersleyen@gmail.com>
          License: see project LICENSE
          Touched: 2022
        */
        .hljs {
            display: block;
            overflow-x: auto;
            padding: 1em;
            border-radius: 6px;
        }
        .hljs-comment, .hljs-meta {
            color: #565f89
        }

        .hljs-deletion, .hljs-doctag, .hljs-regexp, .hljs-selector-attr, .hljs-selector-class, .hljs-selector-id, .hljs-selector-pseudo, .hljs-tag, .hljs-template-tag, .hljs-variable.language_ {
            color: #f7768e
        }

        .hljs-link, .hljs-literal, .hljs-number, .hljs-params, .hljs-template-variable, .hljs-type, .hljs-variable {
            color: #ff9e64
        }

        .hljs-attribute, .hljs-built_in {
            color: #e0af68
        }

        .hljs-keyword, .hljs-property, .hljs-subst, .hljs-title, .hljs-title.class_, .hljs-title.class_.inherited__, .hljs-title.function_ {
            color: #7dcfff
        }

        .hljs-selector-tag {
            color: #73daca
        }

        .hljs-addition, .hljs-bullet, .hljs-quote, .hljs-string, .hljs-symbol {
            color: #9ece6a
        }

        .hljs-code, .hljs-formula, .hljs-section {
            color: #7aa2f7
        }

        .hljs-attr, .hljs-char.escape_, .hljs-keyword, .hljs-name, .hljs-operator {
            color: #bb9af7
        }

        .hljs-punctuation {
            color: #c0caf5
        }

        .hljs {
            background: #1a1b26;
            color: #9aa5ce
        }

        .hljs-emphasis {
            font-style: italic
        }

        .hljs-strong {
            font-weight: 700
        }
    </style>
{% endblock %}

{% block title %}
    {{ post.title }}
{% endblock %}

{% block content %}
    <section class="hero">
        <div class="hero-body">
            <div class="container">
                <section class="section">
                    {% if post.image %}
                        <figure class="image mb-6">
                            <img src="{{ post.image.url }}" alt="{{ post.title }}">
                        </figure>
                    {% endif %}
                    <div class="columns">
                        <div class="column is-8 is-offset-2">
                            <div class="content is-medium">
                                <h2 class="subtitle is-5 has-text-grey">{{ post.created_at|timesince }} ago</h2>
                                <h1 class="title has-text-black is-3">{{ post.title }}</h1>
                                <p class="has-text-dark">
                                    {{ post.intro }}
                                </p>
                                <p>
                                    {{ post.body | safe }}
                                </p>
                                <p><small>
                                    Category: <a
                                        href="{% url 'category_detail' post.category.slug %}">{{ post.category }}</a>
                                </small></p>
                                <hr>
                                <h2 class="subtitle is-4">Comments</h2>
                                <form method="post mb-6">
                                    {% csrf_token %}
                                    {{ form.as_p }}
                                    <div class="field">
                                        <div class="control">
                                            <button class="button is-success">Submit Comment</button>
                                        </div>
                                    </div>
                                </form>

                                {% for comment in post.comments.all %}
                                    <article class="media box">
                                        <div class="media-content">
                                            <strong>{{ comment.name }}</strong>
                                            <small>{{ comment.created_at|timesince }} ago</small>
                                            {{ comment.body }}

                                        </div>
                                    </article>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
          document.querySelectorAll('pre').forEach((el) => {
            hljs.highlightElement(el);
          });
        });
    </script>
{% endblock %}